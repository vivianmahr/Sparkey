
<% provide(:title, @post[:post_type].to_s) %>
<% provide(:selected, []) %>
<% content_for :head do %>
    <%= javascript_include_tag "search.js" %>
    <%= javascript_include_tag "generate_word_cloud" %>
<% end %>

<style>
    .col-md-5 {
        float: none;
        margin: 0 auto;
        text-align: center;
    }
    .col-md-5 div {
        width: 100%;
    }
    #roulette-box {
        border-top: none;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }
    #cloud {
        margin-bottom: 2rem;
        height: 15rem;
        width: 35rem;
    }
</style>
<script>
    var words = [
        <% @vibes_frequency_hash.each do |key, array| %>
            <% word = key.dup %>
            {text: "<%= word.rstrip.lstrip %>", weight: "<%= array %>"},
        <% end %>
    ]
</script>

<div class="container">
    <div class="clearer">&nbsp;</div>
    <div class="row">
        <div class="col-md-5">
            <h3>
                <%= @post[:post_type] %>
            </h3>
            <div id="image-box">
                <%= image_tag("#{@post[:image_path]}", :id => "roulette-image") %>
            </div>
            <div class="clearer">&nbsp;</div>
            <div class="desc-box black">
                <p>
                    <%= @post[:description] %>
                </p>
            </div>
            <div class="clearer">&nbsp;</div>
            <p>
                Give it a 
                <input type="submit" value="Spark!">
            </p>
                <div class="clearer">&nbsp;</div>
            <div id="vibe-tab" class="tab">Vibes</div>
            <div id="comment-tab" class="tab unselected hidden">Comments</div>
            <div class="clearer"></div>
            <div class="form-container" id="roulette-box">
                <div class="clearer">&nbsp;</div>
                <div class="clearer">&nbsp;</div>
                <div id="vibe-box" class="">
                    <div id="cloud">
                    </div>
                    <%= form_tag({controller: "posts", action: "show"}, method: "get") do %>
                        <%= text_area_tag(:vibes, "", size: "24x6", :placeholder => "Enter vibes seperated by commas...", :class => "long") %>
                        <div class="clearer">&nbsp;</div>
                        <%= submit_tag("Submit!") %>
                    <% end %>
                    <div class="clearer">&nbsp;</div>
                </div>
                <div id="comment-box" class="hidden">
                    <form>
                        <textarea class="long" placeholder="Enter a comment"></textarea>
                        <div class="clearer">&nbsp;</div>
                        <input type="submit" value='Submit'/>
                        <div class="clearer">&nbsp;</div>
                    </form>
                    <ul id="comments">
                        <li class="comment">
                            <a class="red-link">
                                <h4>
                                    Anonymous
                                </h4>
                            </a>
                            <p>
                                CommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentComment
                            </p>
                        </li>
                        <li class="comment">
                            <a class="red-link">
                                <h4>
                                    Anonymous
                                </h4>
                            </a>
                            <p>
                                CommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentCommentComment
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="clearer">&nbsp;</div>
            <div class="clearer">&nbsp;</div>
        </div>
    </div>
</div>
